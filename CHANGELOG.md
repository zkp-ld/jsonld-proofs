# Changelog

## [0.12.3] - 2024-08-19

### Changed

- Export additional types that are already used in the APIs
- Update the `@types/jsonld` definitions
- Update npm dependencies

## [0.12.2] - 2024-08-16

### Changed

- Sync and Update `@types/jsonld` Definitions
- Update usages of `jsonld.fromRDF` and `jsonld.toRDF` to sync with `@types/jsonld` update
- Update npm dependencies for `braces`, `fill-range`, `@types/node`, and `vitest`
    
## [0.12.1] - 2024-06-04

### Changed

- Allow `publicKeys` in `verifyProof` to be empty to support cases where a VP does not contain a VC

## [0.12.0] - 2024-05-21

### Changed

- Sync and Update `@types/jsonld` Definitions, Optionalize `documentLoader` Callback (#8)
  - Regarding `@types/jsonld`:
    - Sync `jsonld.d.ts` and `jsonld-spec.d.ts` with the latest version of `@types/jsonld`.
    - Update `index.d.ts` to minimize the difference with its original version.
    - **BREAKING**: Remove the `callback` parameter of the `documentLoader` function, as it has been deprecated in version 2.0.0 of `jsonld`.
    - Fix the `node` and `xhr` definitions in the `documentLoaders` namespace.
  - Regarding `src/types.ts`:
    - **BREAKING**: Remove the `callback` parameter of the `documentLoader` function, as it has been deprecated in version 2.0.0 of `jsonld`.
- Make `context` parameter in `deriveProof` optional and add a default value for the VP context (#9)
  - **BREAKING**: Make context parameter in deriveProof optional and add a default value for the VP context.
- Allow `publicKeys` in `deriveProof` to be empty to support cases where a VP does not contain a VC

### Fixed

- Change `nanoid` from v5 (for ESM) to v3 (for CJS)
- Run npm audit fix and update internal packages (`undici` and `vite`)

## [0.11.2] - 2024-03-18

### Changed

- Upgraded dependencies
- Added a negative test for deriveProof without VCs nor PPID

## [0.11.1] - 2024-03-18

### Changed

- Upgraded dependencies
- Added a test for deriving and verifying VP without VCs

### Fixed

- Rename a variable to conform to naming rules

## [0.11.0] - 2024-03-15

### Fixed

- Remove `"type": "module"` from `package.json` to resolve inconsistency with CJS usage. (This package is intended to be used as a CommonJS module. However, the presence of `"type": "module"` in `package.json` was misleading and could cause issues in environments expecting CJS modules. This change ensures compatibility and clarity by removing the inconsistent module type specification.)

### Changed

- Upgrade dependencies

## [0.10.1] - 2024-01-11

### Changed

- Upgraded dependencies

## [0.10.0] - 2023-11-27

### Added

- Several functions now include comments (assisted by GitHub Copilot)

### Fixed

- Update tests to resolve errors with vitest/jest

### Changed

- Rename and add several types, e.g., `VcPair` to `VCPair`
- Refactor internal processing (assisted by GitHub Copilot)
- Remove unused dependencies
- Update ESLint configurations

## [0.9.0] - 2023-10-18

### Added

- Reflect the latest updates in `rdf-proofs-wasm` (and its underlying `rdf-proofs`)
  - Add predicate proofs generation and verification

### Changed

- Interfaces of `deriveProof` and `verifyProof`
- Upgrade dependencies

## [0.8.2] - 2023-10-02

### Fixed

- Reflect the latest updates in `rdf-proofs-wasm` (and its underlying `rdf-proofs`)
  - Change `proofPurpose` of VP from `assertionMethod` to `authentication` to align with the spec
- Fix context URL for schema.org in tests to add the trailing slash

## [0.8.1] - 2023-09-29

### Fixed

- Enable selective disclosure for `@set` and `@list`
  - now you can just remove elements in `@set`, whereas use a bnode id like `_:abc` to unreveal an element in `@list`

## [0.8.0] - 2023-09-28

### Added

- Reflect the latest updates in `rdf-proofs-wasm` (and its underlying `rdf-proofs`)
  - Blind signing feature
  - PPID feature
  - `domain` parameter to `deriveProof` and `verifyProof`
  - Allow inclusion of committed secrets in VP, generated by `derivedProof`, for using VP as an issuance request for bound VC
  - Set current datetime for `created` if not provided

### Changed

- Rename `nonce` to `challenge`
- Upgrade dependencies: nanoid 5.0.1, etc.
